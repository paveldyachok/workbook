### Области видимости переменных

Существуют две области **переменных**:

* Глобальная
* Локальная

**Глобальная** область - это всё что находиться вне функции.

К **локальным** относятся те переменные, которые находятся внутри функции + её аргументы.

Три способа пользоваться глобальной переменной находясь в функции:

1. Объявить переменную с помощью ключевого слова **global**

   ```php
   global $name;
   ```

   Таким способом создаётся не переменная а ссылка на неё.  
   Лучше перечислять такие переменные в начале функции.

2. Все глобальные переменные доступны через суперглобальный массив **$GLOBALS**

   ```php
   $GLOBALS["name"];
   ```

3. Установить амперсанд \(&\) перед переменной в параметре функции.

   ```php
   function sayHallo(&$name)
   ```

   В функцию передаётся не копия переменной а **ссылка**.

Не рекомендуется изменять глобальные переменные из функции.

Для сохранения **локальной** переменной \(объявленной в функции\) после отработки функции, можно использовать ключевое слово **static**:

```php
function sayHello() {
    static $val = 1;
}
```

---

### Уточнение типа

Для проверки передачи массива в функцию

```php
function foo(array $var) {} // Ожидается только массив
```

С PHP 5.4 можно указать уточнение **callable**

```php
function bar(callable $var, $arg) {
    return $var($arg);
}
```

С PHP 7 можно уточнять скалярные типы

```php
function foo(int $i, string $s, bool $b, int ...$nums):bool {}

// int ...$nums - означает что все последующие переменные должны быть типом int
// :bool - тип возвращаемого функцией значения.
```

Выявить ошибку в такой функции можно только запустив её. При этом если PHP может выполнить автоприведение типов, ошибка не появиться.

> Например: строка "5" приведётся к числу 5, если будет уточнение по int.

Для включения строгой типизации необходио самой первой строкой указать:

```php
declare(strict_types=1);
```

---

### Языковые конструкции

* die и exit
* echo и print

  print - всегда возвращает 1.

  echo - единственная конструкция, которая ничего не возващает.

* isset и unset

* include и include\_once
* require и require\_once
* empty
* eval
* list
* return

---

### Константы и псевдоконстанты

Псевдоконстанты:

* _LINE_



