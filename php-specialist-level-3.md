## Изучение ООП {#oop}

#### Классы и объекты

Переменные объявленные в классе называются - **свойства**.

Поведение объектов описывается **методами**, это функции которые указываются внутри класса.

**$this** - это текущий объект. Тоесть ссылка на тот объект, который и вызывает обращением данного свойства или метода. Обращение в классах к свойствам и методам происходить **только через $this** !

``` php
class Pet // Класс с именем Pet
{
    public $name; // Свойство $name с модификатором public
    public $age = 0;
    function say($w) // Метод класса
    {
        // Доступ к свойству
        echo "{$this->name} said {$w}";
        // Доступ к методу
        $this->drawLine();
    }
    function drawLine()
    {
    echo "<hr>";
    }
}

$cat = new Pet(); // Объект (экземпляр) класса Pet записанный в переменную $cat

echo $cat->age; // С помощью стрелки "->" обращаемся к свойству объекта

$cat->name = "Мурзик"; // Таким же образом можно записывать данные в свойство объекта

$cat->say("Miay"); // Обращение к методу объекта
```

#### Использование псевдоконстант

`__FUNCTION__` - передаёт имя функции

`__CLASS__` - передаёт имя класса

`__METHOD__` - передаёт имя метода в формате "ИмяКласса::имяМетода"

#### Конструкторы и деструкторы

**Конструктор** - это специальный метод, который вызывается автоматически. Вызывается конструктор специальным служебным методом: `__construct()`. В круглых скобках при создании объекта (экземпляра) класса можно передавать параметры в конструктор.

**Деструктор** - специальный метод `__destruct()` который тоже вызывается автоматически, его задача удалять объекты из памяти. В деструктор нет возможности передать параметры. Порядок удаления объктов неопределён, по этому **нельзя** напрямую обращаться к другому объекту из деструктора.

```php
class Pet
{
    // Описание свойств
    public $type = "unknown";
    public $name;
    // Конструктор класса
    public function __construct($type, $name)
    {
        $this->type = $type;
        $this->name = $name;
        echo "My {$this->type} name {$this->name}\n";
    }
    // Деструктор класса
    public function __destruct()
    {
        echo $this->name . " removed\n";
    }
}

// Создание объектов, экземпляров класса
$cat = new Pet("cat", "Murzik");
$dog = new Pet("dog", "Tuzik");
```